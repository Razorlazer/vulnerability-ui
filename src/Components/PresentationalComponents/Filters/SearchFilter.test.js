import SearchFilter from './SearchFilter'

describe('SearchFilter', () => {
    const placeholder = "search by name";
    jest.useFakeTimers();
      
    it('Should render with initial value', () => {
        const applyMock = jest.fn(value => { return value });
        const initialValue = 'Initial search Value'
        const searchFilter = mount(<SearchFilter apply={applyMock} placeholder={placeholder} value={initialValue} />);
        const { value } = searchFilter.find('ConditionalFilter').props()
       
        expect(value).toBe(initialValue)
    })

    it('Should change search value', () => {
        const applyMock = jest.fn(value => { return value });
        const initialValue = 'Initial search Value';
        const changedValue = 'change the value';

        const searchFilter = mount(<SearchFilter apply={applyMock} placeholder={placeholder} value={initialValue} />);

        searchFilter.find('input').first().simulate('change', { target: { value: changedValue } });

        const { value } = searchFilter.find('ConditionalFilter').props()
       
        expect(value).toBe(changedValue)

    })
})
